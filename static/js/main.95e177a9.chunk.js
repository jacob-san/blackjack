(window.webpackJsonpblackjack=window.webpackJsonpblackjack||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(27)},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),i=(n(12),n(3)),u=n(2),s=n(1),l=function(){var e=["hearts","diamonds","spades","clubs"];return function(e){for(var t,n=e.length;n;){var a=[e[t=Math.floor(Math.random()*n--)],e[n]];e[n]=a[0],e[t]=a[1]}return e}(["ace","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king"].flatMap(function(t){return e.map(function(e){return"".concat(t," of ").concat(e)})}))},f=n(6);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m={two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,jack:10,queen:10,king:10},b=function(e){var t=function(e){return e.reduce(function(e,t){var n=t.split(" ")[0];if("ace"===n)return p({},e,{totalAces:e.totalAces+1});var a=m[n];return p({},e,{scoreWithoutAces:e.scoreWithoutAces+a})},{scoreWithoutAces:0,totalAces:0})}(e.cards);return function(e,t){if(0===t)return e;var n=e+t+10;return n<=21?n:e+t}(t.scoreWithoutAces,t.totalAces)},v=function(e){return e.split(" ")[0]},g=(n(15),function(e){var t=e.card;return r.a.createElement("img",{className:"card-img",key:t,alt:t,src:"cards/".concat(t,".png")})}),h=(n(16),function(e){var t=e.hand,n=e.score,a=e.currentHand,c=e.turn;return r.a.createElement("div",{className:"hand-wrapper"},r.a.createElement("div",{className:"scorebox"},"player"!==c?n:"??"),r.a.createElement("div",{className:Object(s.isEqual)(a,t)?"cards-wrapper selected":"cards-wrapper"},"player"===c?r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{card:t.cards[0]})," ",r.a.createElement(g,{card:"blue_back"})):t.cards.map(function(e){return r.a.createElement(g,{key:e,card:e})})),b(t)>21&&r.a.createElement("p",{className:"busted-message"},"BUSTED"))}),E=(n(17),function(e){var t=e.playerHands,n=e.currentHand;return r.a.createElement("div",{className:"player-side-wrapper"},t.map(function(e){return r.a.createElement(h,{key:JSON.stringify(e),hand:e,score:b(e),currentHand:n})}),r.a.createElement("p",{className:"player-label"},"PLAYER"))}),O=(n(18),function(e){var t=e.dealerHand,n=e.turn;return r.a.createElement("div",{className:"dealer-side-wrapper"},t.cards.length>0&&r.a.createElement(h,{hand:t,score:b(t),turn:n}),r.a.createElement("p",{className:"dealer-label"},"DEALER"))}),j=(n(19),function(e){var t=e.gameOverNotification,n=e.resetStateForNewHand,a=e.setChips;return r.a.createElement("div",{className:"game-over-notification-wrapper"},r.a.createElement("p",{className:"game-over-notification"},t),r.a.createElement("button",{className:"game-over-notification-button",onClick:function(){n(),a(1e3)}},"Take a lien on your house"))}),k=(n(20),function(e){var t=e.outcomeNotification,n=e.resetStateForNewHand;return r.a.createElement("div",{className:"outcome-notification-wrapper"},r.a.createElement("p",{className:"outcome-notification"},t),r.a.createElement("button",{className:"outcome-notification-button",onClick:n},"Deal 'er again please"))}),w=(n(21),function(e){var t=e.setBet,n=e.chips,c=e.setChips,o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],l=i[1],f=Object(a.useState)(""),d=Object(u.a)(f,2),p=d[0],m=d[1];Object(a.useEffect)(function(){if(p){var e=setTimeout(function(){return m("")},1750);return function(){return clearTimeout(e)}}},[p]),Object(a.useEffect)(function(){m("")},[s]);var b=function(){var e=Number(s);e>n?m("You don't have enough chips to bet that much - duh!"):(t(e),c(n-e))};return r.a.createElement("div",{className:"bet-input-wrapper"},r.a.createElement("input",{className:"bet-input",value:s,onChange:function(e){var t=e.target.value;/[^0-9]/g.test(t)?m("Only numbers allowed - duh!"):l(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&b()}}),r.a.createElement("button",{className:"bet-input-button",onClick:b},"Bet"),p&&r.a.createElement("p",{className:"error"},p),0===s.length&&r.a.createElement("p",{className:"enter-a-bet-message"},"Enter a bet first!"))}),N=(n(22),function(e){var t=e.onClick,n=e.content;return r.a.createElement("div",{className:"button-wrapper"},r.a.createElement("button",{className:"game-button",onClick:t},n))}),y=(n(23),function(e){var t=e.chips;return r.a.createElement("div",{className:"chips-wrapper"},r.a.createElement("div",{className:"player-chips"},"Chips: ",t))}),H=(n(24),function(e){var t=e.toggleIsRiggedForSplits;return r.a.createElement("div",{className:"rig-deck-wrapper"},r.a.createElement("input",{type:"checkbox",style:{width:"20px",height:"20px"},id:"rig-deck-checkbox",onChange:function(e){return t(e.target.checked)}}),r.a.createElement("label",{className:"rig-deck-label",htmlFor:"rig-deck-checkbox"},"Get dealt a splittable hand"))}),S=(n(25),function(e){var t=e.deck,n=e.setDeck,a=e.bet,c=e.setBet,o=e.chips,u=e.setChips,l=e.playerHands,f=e.setPlayerHands,d=e.currentHand,p=e.setCurrentHand,m=e.turn,b=e.setTurn,g=e.gameOverNotification,h=e.outcomeNotification,E=e.toggleIsRiggedForSplits;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{chips:o}),0===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{setBet:c,chips:o,setChips:u}),r.a.createElement(H,{toggleIsRiggedForSplits:E})),"player"===m&&!g&&!h&&a>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{onClick:function(e){return function(){var e=Object(i.a)(t),a=Object(s.cloneDeep)(l),r=Object(s.cloneDeep)(d),c=e.pop();r.cards.push(c);var o=l.findIndex(function(e){return Object(s.isEqual)(e,d)});a.splice(o,1,r),f(a),p(r),n(e)}()},content:"Hit"}),r.a.createElement(N,{onClick:function(){var e=Object(s.cloneDeep)(l)[l.findIndex(function(e){return Object(s.isEqual)(e,d)})+1];e?p(e):b("dealer")},content:"Stand"}),o>a&&(2===d.cards.length||1===d.cards.length)&&r.a.createElement(N,{onClick:function(){var e=Object(i.a)(t),n=Object(s.cloneDeep)(l),a=Object(s.cloneDeep)(d),r=e.pop();a.cards.push(r),a.bet*=2,p(a),u(function(e){return e-a.bet});var c=l.findIndex(function(e){return Object(s.isEqual)(e,d)});n.splice(c,1,a),f(n);var o=n[c+1];o?p(o):b("dealer")},content:"Double Down"}),o>a&&function(e){var t=e.cards;return 2===t.length&&v(t[0])===v(t[1])}(d)&&r.a.createElement(N,{onClick:function(){var e=Object(s.cloneDeep)(l),t=Object(s.cloneDeep)(d),n=l.findIndex(function(e){return Object(s.isEqual)(e,d)});e.splice(n,1,{cards:[t.cards[0]],bet:a},{cards:[t.cards[1]],bet:a}),p(e[0]),f(e),u(function(e){return e-a})},content:"Split"})))}),C=(n(26),function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(1e3),f=Object(u.a)(o,2),d=f[0],p=f[1],m=Object(a.useState)(0),v=Object(u.a)(m,2),g=v[0],h=v[1],w=Object(a.useState)("player"),N=Object(u.a)(w,2),y=N[0],H=N[1],C=Object(a.useState)({cards:[]}),D=Object(u.a)(C,2),x=D[0],P=D[1],F=Object(a.useState)([]),A=Object(u.a)(F,2),I=A[0],T=A[1],q=Object(a.useState)({cards:[],bet:0}),B=Object(u.a)(q,2),R=B[0],Y=B[1],M=Object(a.useState)(!1),W=Object(u.a)(M,2),J=W[0],L=W[1],G=Object(a.useState)(""),K=Object(u.a)(G,2),U=K[0],Z=K[1],_=Object(a.useState)(""),z=Object(u.a)(_,2),Q=z[0],V=z[1];Object(a.useEffect)(function(){g>0&&!I.length&&X()},[g]),Object(a.useEffect)(function(){if(b(R)>=21&&!I.every(function(e){return b(e)>21})){var e=Object(s.cloneDeep)(I)[I.findIndex(function(e){return Object(s.isEqual)(e,R)})+1];if(!e){var t=setTimeout(function(){return H("dealer")},1e3);return function(){return clearTimeout(t)}}Y(e)}},[R]),Object(a.useEffect)(function(){if("dealer"===y){if(b(x)<17){var e=setTimeout(te,1100);return function(){return clearTimeout(e)}}return $()}},[y,x]),Object(a.useEffect)(function(){I.length&&I.every(function(e){return b(e)>21})&&$()},[I]);var X=function(){if(J)ne();else{var e=l(),t={cards:[e.pop(),e.pop()],bet:g},n={cards:[e.pop(),e.pop()]};c(e),T([t]),Y(t),P(n)}},$=function(){var e=I.reduce(function(e,t){return function(e,t){var n=b(e),a=b(t);return n<=21&&n>a||n<=21&&a>21}(t,x)?e+2*t.bet:function(e,t){var n=b(e),a=b(t);return n<=21&&n===a||n>21&&a>21}(t,x)?e+t.bet:e},0);if(p(function(t){return t+e}),d<=0&&0===e)V("You have ZERO chips. You are crap out of luck \ud83d\ude0a");else{var t=I.reduce(function(e,t){return e+t.bet},0),n=e-t,a=n>0?"You won ".concat(n," chips"):0===n?"You broke even":"You lost ".concat(Math.abs(n)," chips");Z(a)}},ee=function(){h(0),T([]),Y({cards:[],bet:0}),P({cards:[]}),c([]),H("player"),L(!1),Z(""),V("")},te=Object(a.useCallback)(function(){if(I.every(function(e){return b(e)>21}))$();else{var e=Object(i.a)(n),t=Object(s.cloneDeep)(x);t.cards.push(e.pop()),P(t),c(e)}},[n]),ne=function(){var e=function(e){var t=[{cards:["two of clubs","two of hearts"],bet:e}],n={cards:["two of clubs","two of hearts"],bet:e},a=l().filter(function(e){return!["two of clubs","two of hearts","two of diamonds","two of spades"].includes(e)}),r={cards:[a.pop(),a.pop()]};return a.push("two of diamonds","two of spades"),{riggedDeck:a,dealerHand:r,riggedPlayerHands:t,riggedCurrentHand:n}}(g),t=e.riggedDeck,n=e.dealerHand,a=e.riggedPlayerHands,r=e.riggedCurrentHand;c(t),P(n),T(a),Y(r)};return r.a.createElement("div",{className:"App"},r.a.createElement("section",{className:"game-display-section"},r.a.createElement(E,{playerHands:I,currentHand:R}),r.a.createElement(O,{dealerHand:x,turn:y})),r.a.createElement("section",{className:"control-panel-section"},r.a.createElement(S,{deck:n,setDeck:c,bet:g,setBet:h,chips:d,setChips:p,playerHands:I,setPlayerHands:T,currentHand:R,setCurrentHand:Y,turn:y,setTurn:H,gameOverNotification:Q,outcomeNotification:U,toggleIsRiggedForSplits:L})),U&&r.a.createElement(k,{outcomeNotification:U,resetStateForNewHand:ee}),Q&&r.a.createElement(j,{gameOverNotification:Q,resetStateForNewHand:ee,setChips:p}))});o.a.render(r.a.createElement(C,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.95e177a9.chunk.js.map